<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Festa do Isaac</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="caustics-overlay"></div>

    <section id="login-section" class="login-container">
        <div class="login-box">
            <h1>Dashboard do Evento</h1>
            <p>Por favor, faça o login para continuar.</p>
            <form id="login-form">
                <div class="form-group"><label for="username">Usuário</label><input type="text" id="username" required></div>
                <div class="form-group"><label for="password">Senha</label><input type="password" id="password" required></div>
                <button type="submit" class="btn">Entrar</button>
                <p id="login-error" class="error-message" aria-live="polite"></p>
            </form>
        </div>
    </section>

    <main id="dashboard-section" class="dashboard-container" hidden>
        <header class="dashboard-header">
            <h1>Dashboard da Festa</h1>
            <button id="logout-btn" class="btn btn-secondary">Sair</button>
        </header>

        <section class="cards-grid">
            <div class="card"><h3>Confirmados</h3><p id="card-confirmed">0</p></div>
            <div class="card"><h3>Acompanhantes</h3><p id="card-guests">0</p></div>
            <div class="card"><h3>Total de Convidados</h3><p id="card-total">0</p></div>
        </section>

        <section class="charts-grid">
            <div class="chart-container"><h3>Confirmações por Dia</h3><canvas id="bar-chart" width="400" height="250"></canvas></div>
            <div class="chart-container"><h3>Distribuição de Acompanhantes</h3><canvas id="pie-chart" width="250" height="250"></canvas><div id="pie-chart-legend"></div></div>
        </section>

        <section class="table-container">
            <div class="table-header">
                <h2>Lista de Convidados</h2>
                <input type="text" id="search-input" placeholder="Buscar por nome...">
            </div>
            <div class="table-wrapper">
                <table>
                    <thead><tr><th>Nome</th><th>Acomp.</th><th>Mensagem</th><th>Data</th><th>Ações</th></tr></thead>
                    <tbody id="rsvps-table-body"></tbody>
                </table>
            </div>
            <div id="pagination-controls" class="pagination-controls"></div>
        </section>

        <section class="actions-container">
            <h2>Ações Gerais</h2>
            <button id="export-csv-btn" class="btn">Exportar CSV</button>
            <button id="export-json-btn" class="btn">Exportar JSON</button>
            <button id="clear-all-btn" class="btn btn-danger">Limpar Todos os Dados</button>
        </section>
    </main>

    <script src="js/config.js"></script>
    <script src="js/admin_main.min.js"></script>
</body>
</html>